// Modern layout & grid system
// Replace older float-based grid with modern flexbox

// Basic row container
.row {
  display: flex;
  flex-wrap: wrap;
  margin-left: -$spacing-base;
  margin-right: -$spacing-base;
  width: 100%;
}

// Base column styles
.col {
  position: relative;
  width: 100%;
  min-height: 1px;
  padding-left: $spacing-base;
  padding-right: $spacing-base;
  flex: 1 0 0%;
}

// Specific column sizes
.col-sm-4, .col-sm-8, .col-sm-6, .col-sm-12 {
  position: relative;
  width: 100%;
  min-height: 1px;
  padding-left: $spacing-base;
  padding-right: $spacing-base;
}

// Default to stacked columns on mobile
@include mobile {
  .col-sm-4, .col-sm-8, .col-sm-6, .col-sm-12 {
    flex: 0 0 100%;
    max-width: 100%;
  }
}

// Tablet and up responsive columns
@include tablet {
  .col-sm-4 {
    flex: 0 0 30%;
    max-width: 30%;
  }
  .col-sm-6 {
    flex: 0 0 50%;
    max-width: 50%;
  }
  .col-sm-8 {
    flex: 0 0 70%;
    max-width: 70%;
  }
  .col-sm-12 {
    flex: 0 0 100%;
    max-width: 100%;
  }
}

// Desktop responsive columns
@include desktop {
  .col-sm-4 {
    flex: 0 0 33.333333%;
    max-width: 33.333333%;
  }
  .col-sm-6 {
    flex: 0 0 50%;
    max-width: 50%;
  }
  .col-sm-8 {
    flex: 0 0 66.666667%;
    max-width: 66.666667%;
  }
  .col-sm-12 {
    flex: 0 0 100%;
    max-width: 100%;
  }
}

// Container styles
.container {
  width: $container-width;
  max-width: $container-max-width;
  min-width: $container-min-width;
  margin-right: auto;
  margin-left: auto;
  padding-left: $spacing-base;
  padding-right: $spacing-base;
}

// Utility classes
.hide, .hidden { display: none; }
.show { display: block; }
.invisible { visibility: hidden; }

.text-hide {
  font: 0/0 a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}

@media print {
  .hidden-print { display: none; }
}

// Modern aspect ratio with built-in property
.css-crop {
  width: 100%;
  aspect-ratio: 2/1;
  background-repeat: no-repeat;
  
  &.bg-cover {
    background-size: cover;
    background-position: center;
  }
  
  &.bg-contain {
    background-size: contain;
    background-position: center;
  }

  // For browsers that don't support aspect-ratio
  @supports not (aspect-ratio: 2/1) {
    height: 0;
    padding-bottom: 50%;
  }
}

.clear-margin { margin: 0; padding: 0; }
.full-width { width: 100%; overflow: hidden; }
.half-width { width: 50%; }
.clickable { cursor: pointer; }
.inline { display: inline; }
.inline-block { display: inline-block; }
.nomargin { margin: 0; }
.nowrap { white-space: nowrap; }
.centered {
  display: block;
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}
.first { margin-top: 0; }
.last { margin-bottom: 0; }

// Spacing utility classes for consistent vertical rhythm
.mt-xs { margin-top: $spacing-xs; }
.mt-sm { margin-top: $spacing-sm; }
.mt-md { margin-top: $spacing-md; }
.mt-lg { margin-top: $spacing-lg; }
.mt-xl { margin-top: $spacing-xl; }

.mb-xs { margin-bottom: $spacing-xs; }
.mb-sm { margin-bottom: $spacing-sm; }
.mb-md { margin-bottom: $spacing-md; }
.mb-lg { margin-bottom: $spacing-lg; }
.mb-xl { margin-bottom: $spacing-xl; }

.pt-xs { padding-top: $spacing-xs; }
.pt-sm { padding-top: $spacing-sm; }
.pt-md { padding-top: $spacing-md; }
.pt-lg { padding-top: $spacing-lg; }
.pt-xl { padding-top: $spacing-xl; }

.pb-xs { padding-bottom: $spacing-xs; }
.pb-sm { padding-bottom: $spacing-sm; }
.pb-md { padding-bottom: $spacing-md; }
.pb-lg { padding-bottom: $spacing-lg; }
.pb-xl { padding-bottom: $spacing-xl; } 